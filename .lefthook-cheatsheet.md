# Lefthook Quick Reference

## Commands

```bash
# Install hooks
lefthook install

# Run hooks manually
lefthook run pre-commit
lefthook run pre-push

# Skip hooks (emergency only)
git commit --no-verify
LEFTHOOK=0 git commit
```

## Commit Message Format

```
<type>(<scope>): <subject>

feat(terraform): add new module
fix(ansible): correct disk mounting
docs(readme): update documentation
chore(deps): bump dependencies
ci(github): update workflow
```

## Quick Fixes

### Format all files with dprint:

```bash
dprint fmt
dprint check  # Check without modifying
```

### Terraform formatting:

```bash
terraform fmt -recursive terraform/
```

### Ansible lint:

```bash
ansible-lint ansible/ --fix
```

### Remove trailing spaces:

```bash
find . -type f \( -name "*.tf" -o -name "*.yml" -o -name "*.yaml" \) -exec sed -i 's/[[:space:]]*$//' {} +
```

### Check for secrets:

```bash
gitleaks detect --source . --verbose
```
